<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Learning go from zero to hero - Part 1 | Lv's Playground</title>
<meta name=keywords content="Go"><meta name=description content='作者：Milap Neupane
链接：https://medium.freecodecamp.org/learning-go-from-zero-to-hero-d2a3223b3d86
开始 想到刚开始学习Go的时候，也是不清不楚地本着拿来能用就行的心态，没有系统学习，导致学习过程中踩坑无数。今天发现一篇文章写的很好，Go语言的特征讲得很细，翻译给需要的初学Go的同学。
前言 让我们从Go（或者称为Golang）的一个小介绍开始。Go由Google工程师Robert Griesemer，Rob Pike和Ken Thompson设计。它是一种静态类型的编译语言。第一个版本于2012年3月作为开源发布。
“ Go是一种开源编程语言，可以轻松构建简单，可靠，高效的软件 ”
在许多语言中，有许多方法可以解决给定的问题。程序员可以花很多时间思考解决问题的最佳方法。
另一方面，Go相信更少的功能 — 只有一种正确的方法来解决问题。
这节省了开发人员的时间，并使大型代码库易于维护。
“ 功能越多，成本越高 ” — Rob Pike
入门 Go由package组成。名为main的包告诉Go编译器被编译为可执行文件，而不是作为library被引用。它是应用程序的主入口。主包定义为：
package main 让我们在Go工作区中创建一个简单的hello world示例。
工作区 Go中的工作空间由环境变量定义，称为 GOPATH。
你的任何代码都将写在工作区内。Go将搜索GOPATH目录中的任何包，或者GOROOT在安装Go时默认设置的目录。注：GOROOT 是安装go的路径。
设置GOPATH为所需的目录。现在，让我们将其添加到文件夹中~/workspace。
# 定义GOPATH目录 export GOPATH=~/workspace # 进入工作区目录 cd ~/workspace 在我们刚刚创建的工作区文件夹中创建main.go文件并写入以下代码。
Hello World! package main import ( "fmt" ) func main(){ fmt.Println("Hello World!") } 在上面的示例中，Go中的官方包fmt实现了格式化I/O的函数。
我们使用import 关键字在Go中导入fmt包。func main是代码执行的主入口。Println是fmt包内的一个函数，我们用它来打印“hello world”。
让我们先运行这个文件看看。可以通过两种方式运行Go命令。众所周知，Go是编译型语言，所以我们要在执行之前编译它。
go build main.go 这将创建一个二进制可执行文件main，现在我们可以运行：
./main # Hello World！ 还有另一种更简单的方式来运行程序。使用go run命令有助于抽象编译步骤。只需运行以下命令即可编译并执行该程序。'><meta name=author content="L"><link rel=canonical href=https://lvlv.fun/posts/2018-12-22/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://lvlv.fun/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://lvlv.fun/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://lvlv.fun/favicon-32x32.png><link rel=apple-touch-icon href=https://lvlv.fun/apple-touch-icon.png><link rel=mask-icon href=https://lvlv.fun/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://lvlv.fun/posts/2018-12-22/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.7.0/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fontsource/mononoki@5.0.7/index.min.css><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var e,t,n,s="https://hi.lvlv.fun/";_paq.push(["setTrackerUrl",s+"matomo.php"]),_paq.push(["setSiteId","1"]),t=document,e=t.createElement("script"),n=t.getElementsByTagName("script")[0],e.async=!0,e.src=s+"matomo.js",n.parentNode.insertBefore(e,n)}()</script><script>const isLightMode=function(){return localStorage.getItem("pref-theme")!=="dark"},getModeSwitch=function(){return document.getElementById("theme-toggle")}</script><meta property="og:title" content="Learning go from zero to hero - Part 1"><meta property="og:description" content='作者：Milap Neupane
链接：https://medium.freecodecamp.org/learning-go-from-zero-to-hero-d2a3223b3d86
开始 想到刚开始学习Go的时候，也是不清不楚地本着拿来能用就行的心态，没有系统学习，导致学习过程中踩坑无数。今天发现一篇文章写的很好，Go语言的特征讲得很细，翻译给需要的初学Go的同学。
前言 让我们从Go（或者称为Golang）的一个小介绍开始。Go由Google工程师Robert Griesemer，Rob Pike和Ken Thompson设计。它是一种静态类型的编译语言。第一个版本于2012年3月作为开源发布。
“ Go是一种开源编程语言，可以轻松构建简单，可靠，高效的软件 ”
在许多语言中，有许多方法可以解决给定的问题。程序员可以花很多时间思考解决问题的最佳方法。
另一方面，Go相信更少的功能 — 只有一种正确的方法来解决问题。
这节省了开发人员的时间，并使大型代码库易于维护。
“ 功能越多，成本越高 ” — Rob Pike
入门 Go由package组成。名为main的包告诉Go编译器被编译为可执行文件，而不是作为library被引用。它是应用程序的主入口。主包定义为：
package main 让我们在Go工作区中创建一个简单的hello world示例。
工作区 Go中的工作空间由环境变量定义，称为 GOPATH。
你的任何代码都将写在工作区内。Go将搜索GOPATH目录中的任何包，或者GOROOT在安装Go时默认设置的目录。注：GOROOT 是安装go的路径。
设置GOPATH为所需的目录。现在，让我们将其添加到文件夹中~/workspace。
# 定义GOPATH目录 export GOPATH=~/workspace # 进入工作区目录 cd ~/workspace 在我们刚刚创建的工作区文件夹中创建main.go文件并写入以下代码。
Hello World! package main import ( "fmt" ) func main(){ fmt.Println("Hello World!") } 在上面的示例中，Go中的官方包fmt实现了格式化I/O的函数。
我们使用import 关键字在Go中导入fmt包。func main是代码执行的主入口。Println是fmt包内的一个函数，我们用它来打印“hello world”。
让我们先运行这个文件看看。可以通过两种方式运行Go命令。众所周知，Go是编译型语言，所以我们要在执行之前编译它。
go build main.go 这将创建一个二进制可执行文件main，现在我们可以运行：
./main # Hello World！ 还有另一种更简单的方式来运行程序。使用go run命令有助于抽象编译步骤。只需运行以下命令即可编译并执行该程序。'><meta property="og:type" content="article"><meta property="og:url" content="https://lvlv.fun/posts/2018-12-22/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-12-22T18:47:53+08:00"><meta property="article:modified_time" content="2018-12-22T18:47:53+08:00"><meta property="og:site_name" content="Lv's Playground"><meta name=twitter:card content="summary"><meta name=twitter:title content="Learning go from zero to hero - Part 1"><meta name=twitter:description content='作者：Milap Neupane
链接：https://medium.freecodecamp.org/learning-go-from-zero-to-hero-d2a3223b3d86
开始 想到刚开始学习Go的时候，也是不清不楚地本着拿来能用就行的心态，没有系统学习，导致学习过程中踩坑无数。今天发现一篇文章写的很好，Go语言的特征讲得很细，翻译给需要的初学Go的同学。
前言 让我们从Go（或者称为Golang）的一个小介绍开始。Go由Google工程师Robert Griesemer，Rob Pike和Ken Thompson设计。它是一种静态类型的编译语言。第一个版本于2012年3月作为开源发布。
“ Go是一种开源编程语言，可以轻松构建简单，可靠，高效的软件 ”
在许多语言中，有许多方法可以解决给定的问题。程序员可以花很多时间思考解决问题的最佳方法。
另一方面，Go相信更少的功能 — 只有一种正确的方法来解决问题。
这节省了开发人员的时间，并使大型代码库易于维护。
“ 功能越多，成本越高 ” — Rob Pike
入门 Go由package组成。名为main的包告诉Go编译器被编译为可执行文件，而不是作为library被引用。它是应用程序的主入口。主包定义为：
package main 让我们在Go工作区中创建一个简单的hello world示例。
工作区 Go中的工作空间由环境变量定义，称为 GOPATH。
你的任何代码都将写在工作区内。Go将搜索GOPATH目录中的任何包，或者GOROOT在安装Go时默认设置的目录。注：GOROOT 是安装go的路径。
设置GOPATH为所需的目录。现在，让我们将其添加到文件夹中~/workspace。
# 定义GOPATH目录 export GOPATH=~/workspace # 进入工作区目录 cd ~/workspace 在我们刚刚创建的工作区文件夹中创建main.go文件并写入以下代码。
Hello World! package main import ( "fmt" ) func main(){ fmt.Println("Hello World!") } 在上面的示例中，Go中的官方包fmt实现了格式化I/O的函数。
我们使用import 关键字在Go中导入fmt包。func main是代码执行的主入口。Println是fmt包内的一个函数，我们用它来打印“hello world”。
让我们先运行这个文件看看。可以通过两种方式运行Go命令。众所周知，Go是编译型语言，所以我们要在执行之前编译它。
go build main.go 这将创建一个二进制可执行文件main，现在我们可以运行：
./main # Hello World！ 还有另一种更简单的方式来运行程序。使用go run命令有助于抽象编译步骤。只需运行以下命令即可编译并执行该程序。'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://lvlv.fun/posts/"},{"@type":"ListItem","position":2,"name":"Learning go from zero to hero - Part 1","item":"https://lvlv.fun/posts/2018-12-22/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Learning go from zero to hero - Part 1","name":"Learning go from zero to hero - Part 1","description":"作者：Milap Neupane\n链接：https://medium.freecodecamp.org/learning-go-from-zero-to-hero-d2a3223b3d86\n开始 想到刚开始学习Go的时候，也是不清不楚地本着拿来能用就行的心态，没有系统学习，导致学习过程中踩坑无数。今天发现一篇文章写的很好，Go语言的特征讲得很细，翻译给需要的初学Go的同学。\n前言 让我们从Go（或者称为Golang）的一个小介绍开始。Go由Google工程师Robert Griesemer，Rob Pike和Ken Thompson设计。它是一种静态类型的编译语言。第一个版本于2012年3月作为开源发布。\n“ Go是一种开源编程语言，可以轻松构建简单，可靠，高效的软件 ”\n在许多语言中，有许多方法可以解决给定的问题。程序员可以花很多时间思考解决问题的最佳方法。\n另一方面，Go相信更少的功能 — 只有一种正确的方法来解决问题。\n这节省了开发人员的时间，并使大型代码库易于维护。\n“ 功能越多，成本越高 ” — Rob Pike\n入门 Go由package组成。名为main的包告诉Go编译器被编译为可执行文件，而不是作为library被引用。它是应用程序的主入口。主包定义为：\npackage main 让我们在Go工作区中创建一个简单的hello world示例。\n工作区 Go中的工作空间由环境变量定义，称为 GOPATH。\n你的任何代码都将写在工作区内。Go将搜索GOPATH目录中的任何包，或者GOROOT在安装Go时默认设置的目录。注：GOROOT 是安装go的路径。\n设置GOPATH为所需的目录。现在，让我们将其添加到文件夹中~/workspace。\n# 定义GOPATH目录 export GOPATH=~/workspace # 进入工作区目录 cd ~/workspace 在我们刚刚创建的工作区文件夹中创建main.go文件并写入以下代码。\nHello World! package main import ( \u0026#34;fmt\u0026#34; ) func main(){ fmt.Println(\u0026#34;Hello World!\u0026#34;) } 在上面的示例中，Go中的官方包fmt实现了格式化I/O的函数。\n我们使用import 关键字在Go中导入fmt包。func main是代码执行的主入口。Println是fmt包内的一个函数，我们用它来打印“hello world”。\n让我们先运行这个文件看看。可以通过两种方式运行Go命令。众所周知，Go是编译型语言，所以我们要在执行之前编译它。\ngo build main.go 这将创建一个二进制可执行文件main，现在我们可以运行：\n./main # Hello World！ 还有另一种更简单的方式来运行程序。使用go run命令有助于抽象编译步骤。只需运行以下命令即可编译并执行该程序。","keywords":["Go"],"articleBody":" 作者：Milap Neupane\n链接：https://medium.freecodecamp.org/learning-go-from-zero-to-hero-d2a3223b3d86\n开始 想到刚开始学习Go的时候，也是不清不楚地本着拿来能用就行的心态，没有系统学习，导致学习过程中踩坑无数。今天发现一篇文章写的很好，Go语言的特征讲得很细，翻译给需要的初学Go的同学。\n前言 让我们从Go（或者称为Golang）的一个小介绍开始。Go由Google工程师Robert Griesemer，Rob Pike和Ken Thompson设计。它是一种静态类型的编译语言。第一个版本于2012年3月作为开源发布。\n“ Go是一种开源编程语言，可以轻松构建简单，可靠，高效的软件 ”\n在许多语言中，有许多方法可以解决给定的问题。程序员可以花很多时间思考解决问题的最佳方法。\n另一方面，Go相信更少的功能 — 只有一种正确的方法来解决问题。\n这节省了开发人员的时间，并使大型代码库易于维护。\n“ 功能越多，成本越高 ” — Rob Pike\n入门 Go由package组成。名为main的包告诉Go编译器被编译为可执行文件，而不是作为library被引用。它是应用程序的主入口。主包定义为：\npackage main 让我们在Go工作区中创建一个简单的hello world示例。\n工作区 Go中的工作空间由环境变量定义，称为 GOPATH。\n你的任何代码都将写在工作区内。Go将搜索GOPATH目录中的任何包，或者GOROOT在安装Go时默认设置的目录。注：GOROOT 是安装go的路径。\n设置GOPATH为所需的目录。现在，让我们将其添加到文件夹中~/workspace。\n# 定义GOPATH目录 export GOPATH=~/workspace # 进入工作区目录 cd ~/workspace 在我们刚刚创建的工作区文件夹中创建main.go文件并写入以下代码。\nHello World! package main import ( \"fmt\" ) func main(){ fmt.Println(\"Hello World!\") } 在上面的示例中，Go中的官方包fmt实现了格式化I/O的函数。\n我们使用import 关键字在Go中导入fmt包。func main是代码执行的主入口。Println是fmt包内的一个函数，我们用它来打印“hello world”。\n让我们先运行这个文件看看。可以通过两种方式运行Go命令。众所周知，Go是编译型语言，所以我们要在执行之前编译它。\ngo build main.go 这将创建一个二进制可执行文件main，现在我们可以运行：\n./main # Hello World！ 还有另一种更简单的方式来运行程序。使用go run命令有助于抽象编译步骤。只需运行以下命令即可编译并执行该程序。\ngo run main.go # Hello World! 注意： 你可以在 https://play.golang.org/ 练习以上代码\n变量 Go中的变量是明确声明的。Go是一种静态类型语言。这意味着在变量声明时检查变量类型。\n声明变量方法如下：\nvar a int 在这种情况下，a将自动设默认值为0。\n使用以下语法声明变量并赋值：\nvar a = 1 这里变量自动指定为int类型。我们可以使用变量声明的简写方式：\nmessage := \"hello world\" 还可以在同一行中声明多个变量：\nvar b, c int = 2, 3 数据类型 与任何其他编程语言一样，Go支持各种不同的数据结构。让我们继续学习：\n数字，字符串和布尔值 Go支持的整数类型包括\nint, int8, int16, int32, int64,uint, uint8, uint16, uint32, uint64, uintptr ... 字符串类型存储一系列字节。它用关键字string声明\n布尔值使用关键字bool声明\nGo还支持复数类型数据类型，可以使用complex64和complex128声明。\nvar a bool = true var b int = 1 var c string = 'hello world' var d float32 = 1.222 var x complex128 = cmplx.Sqrt(-5 + 12i) Array, Slice, 和 Map 数组array是相同数据类型的元素序列。数组具有在声明中定义的固定长度，因此不能进行扩展。数组声明为：\nvar a [5]int 数组也可以是多维的。我们可以使用以下格式创建多维数组：\nvar multiD [2][3]int 数组的值在运行时无法更改，也不提供获取子数组的能力。为此，Go有一个名为切片slices的数据类型。\n切片slices存储一系列元素，可以随时扩展。切片声明类似于数组声明\n未定义容量的slice：\nvar b []int 这将创建一个零容量和零长度的切片。\n切片也可以定义容量和长度。我们可以使用以下语法：\nnumbers := make([]int,5,10) 上面定义的切片的初始长度为5，容量为10。\n切片是数组的抽象。切片使用数组作为底层结构。切片包含三个组件：容量，长度和指向底层数组的指针，如下图所示：\n图片源： https://blog.golang.org/go-slices-usage-and-internals\n通过使用append()或copy()函数可以增加切片的容量。append函数可以为数组的末尾增加值，并在需要时增加容量：\nnumbers = append(numbers, 1, 2, 3, 4) 增加切片容量的另一种方法是使用copy()函数。只需创建另一个具有更大容量的切片，并将原始切片复制到新创建的切片：\n// 创建新的切片 number2 := make([]int, 15) // 将原始切片复制到新创建的切片 copy(number2, number) 我们可以创建切片的子切片。这可以使用以下命令完成：\n// 声明一个内含{1,2,3,4}共4个元素的切片 number2 = []int{1,2,3,4} fmt.Println(numbers) // -\u003e [1 2 3 4] // 创建子切片 slice1 := number2[2:] fmt.Println(slice1) // -\u003e [3 4] slice2 := number2[:3] fmt.Println(slice2) // -\u003e [1 2 3] slice3 := number2[1:4] fmt.Println(slice3) // -\u003e [2 3 4] 映射表map是Go中的数据类型，它将键映射到值。我们可以使用以下代码定义键值对映射：\nvar m map[string]int 我们声明了一个名为m的map类型的变量，其键是string类型，值是int类型。我们可以轻松地将键和值添加到map中：\n// 添加 key/value m['clearity'] = 2 m['simplicity'] = 3 // 打印输出 value fmt.Println(m['clearity']) // -\u003e 2 fmt.Println(m['simplicity']) // -\u003e 3 类型转换 可以使用类型转换将一种类型的数据类型转换为另一种类型。我们来看一个简单的类型转换：\na := 1.1 b := int(a) fmt.Println(b) //-\u003e 1 并非所有类型的数据类型都可以转换为其他类型。确保数据类型与转换类型兼容。\n流程控制 if else 我们可以使用if-else语句，如下例所示。确保花括号与条件位于同一行。\nif num := 9; num \u003c 0 { fmt.Println(num, \"小于0\") } else if num \u003c 10 { fmt.Println(num, \"是一位数\") } else { fmt.Println(num, \"是多位数\") } switch case switch-case有助于组织多个条件语句。以下实例表示一个简单的switch case语句：\ni := 2 switch i { case 1: fmt.Println(\"one\") case 2: fmt.Println(\"two\") default: fmt.Println(\"none\") } 循环 Go使用for来实现不同类型的循环：\ni := 0 sum := 0 for i \u003c 10 { sum += 1 i++ } fmt.Println(sum) 上面的示例类似于C中的while循环。对于for循环，还可以使用相同的for语句：\nsum := 0 for i := 0; i \u003c 10; i++ { sum += i } fmt.Println(sum) Go中的无限循环：\nfor { } 指针 Go提供指针。指针是保存值的内存地址的地方。指针由*定义。\n根据数据类型定义指针，例如：\nvar ap *int 变量ap是指向整数类型的指针。使用\u0026操作可用于获取变量的地址。\na := 12 ap = \u0026a 可以使用*运算符访问指针指向的值：\nfmt.Println(*ap) // 12 在将结构作为参数传递或者为已定义类型声明方法时，通常首选指针。\n传递值时，实际复制的值意味着更多的内存 传递指针后，函数更改的值将反映在方法/函数调用者中 例如：\nfunc increment(i *int) { *i++ } func main() { i := 10 increment(\u0026i) fmt.Println(i) } // 11 注意： 在博客中尝试示例代码时，不要忘记将其包含在main包中，并在需要时导入fmt或其他包，如上面第一个main.go示例所示。\n","wordCount":"408","inLanguage":"en","datePublished":"2018-12-22T18:47:53+08:00","dateModified":"2018-12-22T18:47:53+08:00","author":{"@type":"Person","name":"L"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lvlv.fun/posts/2018-12-22/"},"publisher":{"@type":"Organization","name":"Lv's Playground","logo":{"@type":"ImageObject","url":"https://lvlv.fun/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://lvlv.fun/ accesskey=h title="Started (Alt + H)"><img src=https://lvlv.fun/apple-touch-icon.png alt aria-label=logo height=35>Started</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://lvlv.fun/latest/ title=Latest><span>Latest</span></a></li><li><a href=https://lvlv.fun/navigation/ title=Navigation><span>Navigation</span></a></li><li><a href=https://lvlv.fun/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://lvlv.fun/>Home</a>&nbsp;»&nbsp;<a href=https://lvlv.fun/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Learning go from zero to hero - Part 1</h1><div class=post-meta><span title='2018-12-22 18:47:53 +0800 +0800'>2018-12-22</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;L&nbsp;|&nbsp;<a href=https://github.com/NERVEbing/blog/blob/master/content/posts/2018-12-22.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%bc%80%e5%a7%8b aria-label=开始>开始</a></li><li><a href=#%e5%89%8d%e8%a8%80 aria-label=前言>前言</a></li><li><a href=#%e5%85%a5%e9%97%a8 aria-label=入门>入门</a><ul><li><a href=#%e5%b7%a5%e4%bd%9c%e5%8c%ba aria-label=工作区>工作区</a></li><li><a href=#hello-world aria-label="Hello World!">Hello World!</a></li></ul></li><li><a href=#%e5%8f%98%e9%87%8f aria-label=变量>变量</a></li><li><a href=#%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b aria-label=数据类型>数据类型</a><ul><li><a href=#%e6%95%b0%e5%ad%97%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e5%b8%83%e5%b0%94%e5%80%bc aria-label=数字，字符串和布尔值>数字，字符串和布尔值</a></li><li><a href=#array-slice-%e5%92%8c-map aria-label="Array, Slice, 和 Map">Array, Slice, 和 Map</a></li><li><a href=#%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2 aria-label=类型转换>类型转换</a></li></ul></li><li><a href=#%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6 aria-label=流程控制>流程控制</a><ul><li><a href=#if-else aria-label="if else">if else</a></li><li><a href=#switch-case aria-label="switch case">switch case</a></li><li><a href=#%e5%be%aa%e7%8e%af aria-label=循环>循环</a></li></ul></li><li><a href=#%e6%8c%87%e9%92%88 aria-label=指针>指针</a></li></ul></div></details></div><div class=post-content><hr><p>作者：<a href=https://medium.freecodecamp.org/@milapneupane>Milap Neupane</a></p><p>链接：<a href=https://medium.freecodecamp.org/learning-go-from-zero-to-hero-d2a3223b3d86>https://medium.freecodecamp.org/learning-go-from-zero-to-hero-d2a3223b3d86</a></p><hr><h3 id=开始>开始<a hidden class=anchor aria-hidden=true href=#开始>#</a></h3><p>  想到刚开始学习Go的时候，也是不清不楚地本着拿来能用就行的心态，没有系统学习，导致学习过程中踩坑无数。今天发现一篇文章写的很好，Go语言的特征讲得很细，翻译给需要的初学Go的同学。</p><h3 id=前言>前言<a hidden class=anchor aria-hidden=true href=#前言>#</a></h3><p>  让我们从Go（或者称为Golang）的一个小介绍开始。Go由Google工程师Robert Griesemer，Rob Pike和Ken Thompson设计。它是一种静态类型的编译语言。第一个版本于2012年3月作为开源发布。</p><blockquote><p>  <em><strong>“ Go是一种开源编程语言，可以轻松构建简单，可靠，高效的软件 ”</strong></em></p></blockquote><p>  在许多语言中，有许多方法可以解决给定的问题。程序员可以花很多时间思考解决问题的最佳方法。</p><p>  另一方面，Go相信更少的功能 — 只有一种正确的方法来解决问题。</p><p>  这节省了开发人员的时间，并使大型代码库易于维护。</p><blockquote><p> <em><strong>“ 功能越多，成本越高 ” — Rob Pike</strong></em></p></blockquote><p><img loading=lazy src=https://i.loli.net/2019/03/15/5c8b6fe00d3e7.png alt></p><h3 id=入门>入门<a hidden class=anchor aria-hidden=true href=#入门>#</a></h3><p>  Go由<code>package</code>组成。名为<code>main</code>的包告诉Go编译器被编译为可执行文件，而不是作为library被引用。它是应用程序的主入口。主包定义为：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span></code></pre></div><p>  让我们在Go工作区中创建一个简单的hello world示例。</p><h4 id=工作区><strong>工作区</strong><a hidden class=anchor aria-hidden=true href=#工作区>#</a></h4><p>  Go中的工作空间由环境变量定义，称为 <code>GOPATH</code>。</p><p>  你的任何代码都将写在工作区内。Go将搜索<code>GOPATH</code>目录中的任何包，或者<code>GOROOT</code>在安装Go时默认设置的目录。注：<code>GOROOT</code> 是安装go的路径。</p><p>  设置<code>GOPATH</code>为所需的目录。现在，让我们将其添加到文件夹中<code>~/workspace</code>。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 定义GOPATH目录</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GOPATH</span><span class=o>=</span>~/workspace
</span></span><span class=line><span class=cl><span class=c1># 进入工作区目录</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> ~/workspace
</span></span></code></pre></div><p>  在我们刚刚创建的工作区文件夹中创建<code>main.go</code>文件并写入以下代码。</p><h4 id=hello-world>Hello World!<a hidden class=anchor aria-hidden=true href=#hello-world>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Hello World!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>  在上面的示例中，Go中的官方包<code>fmt</code>实现了格式化I/O的函数。</p><p>  我们使用<code>import</code> 关键字在Go中导入<code>fmt</code>包。<code>func main</code>是代码执行的主入口。<code>Println</code>是<code>fmt</code>包内的一个函数，我们用它来打印“hello world”。</p><p>  让我们先运行这个文件看看。可以通过两种方式运行Go命令。众所周知，Go是编译型语言，所以我们要在执行之前编译它。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>go build main.go
</span></span></code></pre></div><p>  这将创建一个二进制可执行文件<code>main</code>，现在我们可以运行：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>./main
</span></span><span class=line><span class=cl><span class=c1># Hello World！</span>
</span></span></code></pre></div><p>  还有另一种更简单的方式来运行程序。使用<code>go run</code>命令有助于抽象编译步骤。只需运行以下命令即可编译并执行该程序。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>go run main.go
</span></span><span class=line><span class=cl><span class=c1># Hello World!</span>
</span></span></code></pre></div><p>  <em><strong>注意：</strong></em> <em>你可以在 <a href=https://play.golang.org/>https://play.golang.org/</a> 练习以上代码</em></p><h3 id=变量>变量<a hidden class=anchor aria-hidden=true href=#变量>#</a></h3><p>  Go中的变量是明确声明的。Go是一种静态类型语言。这意味着在变量声明时检查变量类型。</p><p>  声明变量方法如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=kt>int</span>
</span></span></code></pre></div><p>  在这种情况下，<code>a</code>将自动设默认值为0。</p><p>  使用以下语法声明变量并赋值：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=p>=</span> <span class=mi>1</span>
</span></span></code></pre></div><p>  这里变量自动指定为int类型。我们可以使用变量声明的简写方式：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>message</span> <span class=o>:=</span> <span class=s>&#34;hello world&#34;</span>
</span></span></code></pre></div><p>  还可以在同一行中声明多个变量：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>b</span><span class=p>,</span> <span class=nx>c</span> <span class=kt>int</span> <span class=p>=</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span>
</span></span></code></pre></div><h3 id=数据类型>数据类型<a hidden class=anchor aria-hidden=true href=#数据类型>#</a></h3><p>  与任何其他编程语言一样，Go支持各种不同的数据结构。让我们继续学习：</p><h4 id=数字字符串和布尔值><strong>数字，字符串和布尔值</strong><a hidden class=anchor aria-hidden=true href=#数字字符串和布尔值>#</a></h4><p>  Go支持的整数类型包括</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kt>int</span><span class=p>,</span> <span class=kt>int8</span><span class=p>,</span> <span class=kt>int16</span><span class=p>,</span> <span class=kt>int32</span><span class=p>,</span> <span class=kt>int64</span><span class=p>,</span><span class=kt>uint</span><span class=p>,</span> <span class=kt>uint8</span><span class=p>,</span> <span class=kt>uint16</span><span class=p>,</span> <span class=kt>uint32</span><span class=p>,</span> <span class=kt>uint64</span><span class=p>,</span> <span class=kt>uintptr</span> <span class=o>...</span>
</span></span></code></pre></div><p>  字符串类型存储一系列字节。它用关键字<code>string</code>声明</p><p>  布尔值使用关键字<code>bool</code>声明</p><p>  Go还支持复数类型数据类型，可以使用<code>complex64</code>和<code>complex128</code>声明。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=kt>bool</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>b</span> <span class=kt>int</span> <span class=p>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>c</span> <span class=kt>string</span> <span class=p>=</span> <span class=err>&#39;</span><span class=nx>hello</span> <span class=nx>world</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>d</span> <span class=kt>float32</span> <span class=p>=</span> <span class=mf>1.222</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>x</span> <span class=kt>complex128</span> <span class=p>=</span> <span class=nx>cmplx</span><span class=p>.</span><span class=nf>Sqrt</span><span class=p>(</span><span class=o>-</span><span class=mi>5</span> <span class=o>+</span> <span class=m>12i</span><span class=p>)</span>
</span></span></code></pre></div><h4 id=array-slice-和-map>Array, Slice, 和 Map<a hidden class=anchor aria-hidden=true href=#array-slice-和-map>#</a></h4><p>  数组<code>array</code>是相同数据类型的元素序列。数组具有在声明中定义的固定长度，因此不能进行扩展。数组声明为：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>a</span> <span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span>
</span></span></code></pre></div><p>  数组也可以是多维的。我们可以使用以下格式创建多维数组：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>multiD</span> <span class=p>[</span><span class=mi>2</span><span class=p>][</span><span class=mi>3</span><span class=p>]</span><span class=kt>int</span>
</span></span></code></pre></div><p>  数组的值在运行时无法更改，也不提供获取子数组的能力。为此，Go有一个名为切片<code>slices</code>的数据类型。</p><p>  切片<code>slices</code>存储一系列元素，可以随时扩展。切片声明类似于数组声明</p><p>  未定义容量的slice：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>b</span> <span class=p>[]</span><span class=kt>int</span>
</span></span></code></pre></div><p>  这将创建一个零容量和零长度的切片。</p><p>  切片也可以定义容量和长度。我们可以使用以下语法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>numbers</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>10</span><span class=p>)</span>
</span></span></code></pre></div><p>  上面定义的切片的初始长度为5，容量为10。</p><p>  切片是数组的抽象。切片使用数组作为底层结构。切片包含三个组件：容量，长度和指向底层数组的指针，如下图所示：</p><p><img loading=lazy src=https://i.loli.net/2019/03/15/5c8b704c9e3b8.png alt></p><p>    图片源： <a href=https://blog.golang.org/go-slices-usage-and-internals>https://blog.golang.org/go-slices-usage-and-internals</a></p><p>  通过使用<code>append()</code>或<code>copy()</code>函数可以增加切片的容量。append函数可以为数组的末尾增加值，并在需要时增加容量：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>numbers</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>numbers</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
</span></span></code></pre></div><p>  增加切片容量的另一种方法是使用<code>copy()</code>函数。只需创建另一个具有更大容量的切片，并将原始切片复制到新创建的切片：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// 创建新的切片
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>number2</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span> <span class=mi>15</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// 将原始切片复制到新创建的切片
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>copy</span><span class=p>(</span><span class=nx>number2</span><span class=p>,</span> <span class=nx>number</span><span class=p>)</span>
</span></span></code></pre></div><p>  我们可以创建切片的子切片。这可以使用以下命令完成：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// 声明一个内含{1,2,3,4}共4个元素的切片
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>number2</span> <span class=p>=</span> <span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>numbers</span><span class=p>)</span> <span class=c1>// -&gt; [1 2 3 4]
</span></span></span><span class=line><span class=cl><span class=c1>// 创建子切片
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>slice1</span> <span class=o>:=</span> <span class=nx>number2</span><span class=p>[</span><span class=mi>2</span><span class=p>:]</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>slice1</span><span class=p>)</span> <span class=c1>// -&gt; [3 4]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>slice2</span> <span class=o>:=</span> <span class=nx>number2</span><span class=p>[:</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>slice2</span><span class=p>)</span> <span class=c1>// -&gt; [1 2 3]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>slice3</span> <span class=o>:=</span> <span class=nx>number2</span><span class=p>[</span><span class=mi>1</span><span class=p>:</span><span class=mi>4</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>slice3</span><span class=p>)</span> <span class=c1>// -&gt; [2 3 4]
</span></span></span></code></pre></div><p>  映射表<code>map</code>是Go中的数据类型，它将键映射到值。我们可以使用以下代码定义键值对映射：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>m</span> <span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span>
</span></span></code></pre></div><p>  我们声明了一个名为<code>m</code>的<code>map</code>类型的变量，其键是<code>string</code>类型，值是<code>int类型</code>。我们可以轻松地将键和值添加到<code>map</code>中：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// 添加 key/value
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>m</span><span class=p>[</span><span class=err>&#39;</span><span class=nx>clearity</span><span class=err>&#39;</span><span class=p>]</span> <span class=p>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=nx>m</span><span class=p>[</span><span class=err>&#39;</span><span class=nx>simplicity</span><span class=err>&#39;</span><span class=p>]</span> <span class=p>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=c1>// 打印输出 value
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>m</span><span class=p>[</span><span class=err>&#39;</span><span class=nx>clearity</span><span class=err>&#39;</span><span class=p>])</span> <span class=c1>// -&gt; 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>m</span><span class=p>[</span><span class=err>&#39;</span><span class=nx>simplicity</span><span class=err>&#39;</span><span class=p>])</span> <span class=c1>// -&gt; 3
</span></span></span></code></pre></div><h4 id=类型转换>类型转换<a hidden class=anchor aria-hidden=true href=#类型转换>#</a></h4><p>  可以使用类型转换将一种类型的数据类型转换为另一种类型。我们来看一个简单的类型转换：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>a</span> <span class=o>:=</span> <span class=mf>1.1</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>:=</span> <span class=nb>int</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>//-&gt; 1
</span></span></span></code></pre></div><p>  并非所有类型的数据类型都可以转换为其他类型。确保数据类型与转换类型兼容。</p><h3 id=流程控制>流程控制<a hidden class=anchor aria-hidden=true href=#流程控制>#</a></h3><h4 id=if-else>if else<a hidden class=anchor aria-hidden=true href=#if-else>#</a></h4><p>  我们可以使用if-else语句，如下例所示。确保花括号与条件位于同一行。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>if</span> <span class=nx>num</span> <span class=o>:=</span> <span class=mi>9</span><span class=p>;</span> <span class=nx>num</span> <span class=p>&lt;</span> <span class=mi>0</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>num</span><span class=p>,</span> <span class=s>&#34;小于0&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=nx>num</span> <span class=p>&lt;</span> <span class=mi>10</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>num</span><span class=p>,</span> <span class=s>&#34;是一位数&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>num</span><span class=p>,</span> <span class=s>&#34;是多位数&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=switch-case>switch case<a hidden class=anchor aria-hidden=true href=#switch-case>#</a></h4><p>  switch-case有助于组织多个条件语句。以下实例表示一个简单的switch case语句：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>i</span> <span class=o>:=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=k>switch</span> <span class=nx>i</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>case</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;one&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>case</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;two&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>default</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;none&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=循环>循环<a hidden class=anchor aria-hidden=true href=#循环>#</a></h4><p>  Go使用<code>for</code>来实现不同类型的循环：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=nx>sum</span> <span class=o>:=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=mi>10</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>sum</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>	<span class=nx>i</span><span class=o>++</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>sum</span><span class=p>)</span>
</span></span></code></pre></div><p>  上面的示例类似于C中的while循环。对于for循环，还可以使用相同的for语句：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>sum</span> <span class=o>:=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=mi>10</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>sum</span> <span class=o>+=</span> <span class=nx>i</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>sum</span><span class=p>)</span>
</span></span></code></pre></div><p>  Go中的无限循环：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>for</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=指针>指针<a hidden class=anchor aria-hidden=true href=#指针>#</a></h3><p>  Go提供指针。<strong>指针是保存值的内存地址的地方</strong>。指针由<code>*</code>定义。</p><p>  根据数据类型定义指针，例如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>ap</span> <span class=o>*</span><span class=kt>int</span>
</span></span></code></pre></div><p>  变量<code>ap</code>是指向整数类型的指针。使用<code>&</code>操作可用于获取变量的地址。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>a</span> <span class=o>:=</span> <span class=mi>12</span>
</span></span><span class=line><span class=cl><span class=nx>ap</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>a</span>
</span></span></code></pre></div><p>  可以使用<code>*</code>运算符访问指针指向的值：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=o>*</span><span class=nx>ap</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// 12
</span></span></span></code></pre></div><p>  在将结构作为参数传递或者为已定义类型声明方法时，通常首选指针。</p><ol><li>传递值时，实际复制的值意味着更多的内存</li><li>传递指针后，函数更改的值将反映在方法/函数调用者中</li></ol><p>  例如：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>increment</span><span class=p>(</span><span class=nx>i</span> <span class=o>*</span><span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=o>*</span><span class=nx>i</span><span class=o>++</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>i</span> <span class=o>:=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>    <span class=nf>increment</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 11
</span></span></span></code></pre></div><p>  <em><strong>注意：</strong></em> <em>在博客中尝试示例代码时，不要忘记将其包含在main包中，并在需要时导入fmt或其他包，如上面第一个main.go示例所示。</em></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://lvlv.fun/tags/go/>Go</a></li></ul><nav class=paginav><a class=prev href=https://lvlv.fun/posts/2018-12-28/><span class=title>« Prev</span><br><span>Learning go from zero to hero - Part 2</span></a></nav></footer><link rel=stylesheet href=https://artalk.lvlv.fun/dist/Artalk.css><script src=https://artalk.lvlv.fun/dist/Artalk.js></script><div id=comment></div><script>let artalkUrl="https://artalk.lvlv.fun",artalkSite="Lv's Playground",artalkEl="comment",imageUrl="/avatar.png",artalkConfig={el:"#"+artalkEl,pageKey:"",pageTitle:"",server:artalkUrl,site:artalkSite,darkMode:!isLightMode(),avatarURLBuilder:e=>e.user_id===1?window.location.origin+imageUrl:"https://source.boringavatars.com/beam/40/"+e.email_encrypted+"?colors=2a363b,f77c3e,faba66,fce185,a2cca5"},artalk=Artalk.init(artalkConfig);const getArtalkElement=function(){return document.getElementById(artalkEl)},getElementsAtkMainEditor=function(){return document.getElementsByClassName("atk-main-editor")},getElementsAtkCommentWrap=function(){return document.getElementsByClassName("atk-comment-wrap")},getElementsAtkUAWrap=function(){return document.getElementsByClassName("atk-ua-wrap")},initCommonMode=function(){let n=getArtalkElement();n.style.margin="0.5em 0",n.style.padding="1em 1em",n.style.borderRadius="0.5em";let e=getElementsAtkCommentWrap();for(let t=0;t<e.length;t++)e[t].style.fontSize="14px",e[t].style.margin="0.8em 0",e[t].style.borderRadius="0.5em";let t=getElementsAtkUAWrap();for(let e=0;e<t.length;e++)t[e].style.fontSize="8px",t[e].style.fontStyle="italic",t[e].style.margin="4px"},initDarkMode=function(){let n=getArtalkElement();n.style.backgroundColor="#111";let e=getElementsAtkCommentWrap();for(let t=0;t<e.length;t++)e[t].style.backgroundColor="#1E2224";let t=getElementsAtkMainEditor();t.length>0&&t[0].setAttribute("style","--at-color-bg: #1E2224")},initLightMode=function(){let n=getArtalkElement();n.style.backgroundColor="rgb(152, 195, 121, 0.6)";let e=getElementsAtkCommentWrap();for(let t=0;t<e.length;t++)e[t].style.backgroundColor="#F8F7F2";let t=getElementsAtkMainEditor();t.length>0&&t[0].setAttribute("style","--at-color-bg: #F8F7F2")},artalkDarkModeListener=function(){artalk.on("list-loaded",function(){initCommonMode(),isLightMode()?initLightMode():initDarkMode()}),getModeSwitch().addEventListener("click",function(){isLightMode()?(artalk.setDarkMode(!0),initDarkMode()):(artalk.setDarkMode(!1),initLightMode())})};artalkDarkModeListener()</script></article></main><footer class=footer><span>&copy; 2024 <a href=https://lvlv.fun/>Lv's Playground</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>