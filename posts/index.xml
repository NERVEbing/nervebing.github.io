<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Posts on Lv&#39;s Playground</title>
    <link>https://lvlv.fun/posts/</link>
    <description>Recent content in Posts on Lv&#39;s Playground</description>
    <generator>Hugo -- 0.145.0</generator>
    <language>en</language>
    <lastBuildDate>Mon, 30 May 2022 02:25:11 +0800</lastBuildDate>
    <atom:link href="https://lvlv.fun/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>使用 Rust 构建 gRPC 微服务</title>
      <link>https://lvlv.fun/posts/2022-05-30/</link>
      <pubDate>Mon, 30 May 2022 02:25:11 +0800</pubDate>
      <guid>https://lvlv.fun/posts/2022-05-30/</guid>
      <description>&lt;h3 id=&#34;前言&#34;&gt;前言&lt;/h3&gt;
&lt;p&gt;当前越来越多的公司基于 Google &lt;a href=&#34;https://grpc.io&#34;&gt;gRPC&lt;/a&gt; 通信框架来构建微服务体系，比较流行的是使用 Go/Java/C++
这样的主流编程语言来编写服务端，我们今天来尝试使用 Rust 语言来实现一个 gRPC 服务端/客户端。&lt;/p&gt;
&lt;p&gt;打开&lt;a href=&#34;https://grpc.io/docs/languages/&#34;&gt;官方文档&lt;/a&gt;可以看到目前 Rust 并不在 gRPC 官方支持的语言列表中：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Supported languages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C#&lt;/li&gt;
&lt;li&gt;C++&lt;/li&gt;
&lt;li&gt;Dart&lt;/li&gt;
&lt;li&gt;Go&lt;/li&gt;
&lt;li&gt;Java&lt;/li&gt;
&lt;li&gt;Kotlin&lt;/li&gt;
&lt;li&gt;Node&lt;/li&gt;
&lt;li&gt;Objective-C&lt;/li&gt;
&lt;li&gt;PHP&lt;/li&gt;
&lt;li&gt;Python&lt;/li&gt;
&lt;li&gt;Ruby&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;p&gt;不过不用担心这个问题。我们知道只要某个语言兼容了基于 C/C++ 编写的 gRPC 的&lt;a href=&#34;https://github.com/grpc/grpc&#34;&gt;核心库&lt;/a&gt;
，那么该语言就可以完美支持 gRPC。目前 Rust 可以实现 gRPC 的主流 crate 如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/hyperium/tonic&#34;&gt;tonic&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/tikv/grpc-rs&#34;&gt;grpc-rs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/stepancheg/grpc-rust&#34;&gt;grpc-rust&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以上三种任选其一都可以，只是 grpc-rs/grpc-rust 当前还处于开发状态，我们在这里使用 tonic 包。&lt;/p&gt;
&lt;h3 id=&#34;构建程序&#34;&gt;构建程序&lt;/h3&gt;
&lt;p&gt;首先检查你的 Rust 版本：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ rustc --version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rustc 1.61.0 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;fe5b13d68 2022-05-18&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;tonic 适用于 1.56 及以上，如果低于这个版本，你应该先更新你的 Rust 编译器：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ rustup update stable
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;确保你已经提前安装了 protobuf：&lt;/p&gt;</description>
    </item>
    <item>
      <title>JavaScript 批量删除 Bilibili 动态</title>
      <link>https://lvlv.fun/posts/2022-05-21/</link>
      <pubDate>Sat, 21 May 2022 00:36:37 +0800</pubDate>
      <guid>https://lvlv.fun/posts/2022-05-21/</guid>
      <description>&lt;h3 id=&#34;step-1&#34;&gt;Step 1&lt;/h3&gt;
&lt;p&gt;登录 Bilibili，点击自己的头像进入个人空间页，点击&lt;code&gt;动态&lt;/code&gt;标签。&lt;/p&gt;
&lt;p&gt;此时的 URL 应该是 &lt;code&gt;https://space.bilibili.com/{YOUR_UID}/dynamic&lt;/code&gt;。&lt;/p&gt;
&lt;h3 id=&#34;step-2&#34;&gt;Step 2&lt;/h3&gt;
&lt;p&gt;打开 Chrome 浏览器，按 F12 或手动右键页面，点击&lt;code&gt;检查&lt;/code&gt;，切换到&lt;code&gt;控制台&lt;/code&gt;标签。&lt;/p&gt;
&lt;p&gt;不支持 Safari。&lt;/p&gt;
&lt;h3 id=&#34;step-3&#34;&gt;Step 3&lt;/h3&gt;
&lt;p&gt;鼠标移到右上头像，记下当前动态数。&lt;/p&gt;
&lt;p&gt;复制以下代码到 Console 并回车执行，等待 1s，页面应该会自动刷新。&lt;/p&gt;
&lt;p&gt;再次查看右上头像当前动态数，如发现动态数量减少，按方向键上重新调出代码并回车执行，之后复读操作即可。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;delBtnElement&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;#page-dynamic &amp;gt; div.col-1 &amp;gt; div &amp;gt; div.bili-dyn-list__items &amp;gt; div &amp;gt; div &amp;gt; div &amp;gt; div.bili-dyn-item__header &amp;gt; div.bili-dyn-item__more &amp;gt; div &amp;gt; div &amp;gt; div.bili-dyn-more__menu &amp;gt; div:nth-child(2)&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;confirmBtnEliment&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;body &amp;gt; div.bili-modal__wrap &amp;gt; div.bili-modal &amp;gt; div.bili-modal__footer &amp;gt; button.bili-modal__button.confirm&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;elements&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;delBtnElement&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;elements&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;当前页面没有可删除的动态&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;delBtnElement&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;each&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;innerText&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;indexOf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;删除&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;click&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Promise&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;setTimeout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;elements&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;confirmBtnEliment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;click&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;location&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;reload&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>基于 HPE MicroServer Gen10 Plus 的 HomeLab 搭建 - 硬件篇</title>
      <link>https://lvlv.fun/posts/2022-05-08/</link>
      <pubDate>Sun, 08 May 2022 11:09:36 +0800</pubDate>
      <guid>https://lvlv.fun/posts/2022-05-08/</guid>
      <description>&lt;h1 id=&#34;前言&#34;&gt;前言&lt;/h1&gt;
&lt;h2 id=&#34;声明&#34;&gt;声明&lt;/h2&gt;
&lt;p&gt;本文是个人对 &lt;a href=&#34;https://www.seeedstudio.com/blog/2020/12/22/what-is-a-home-lab-getting-started-and-recommendations/&#34;&gt;
&lt;em&gt;&lt;strong&gt;HomeLab&lt;/strong&gt;&lt;/em&gt;&lt;/a&gt;
即家庭私有实验室的学习探索，参杂着一些经验总结，记录下来，也希望可以让他人少走一些弯路。&lt;/p&gt;
&lt;h2 id=&#34;homelab-是什么&#34;&gt;HomeLab 是什么？&lt;/h2&gt;
&lt;p&gt;本质上是一个连接各种设备的复杂系统，你可以用任何树莓派/PC/服务器/路由器组成一个 HomeLab。&lt;/p&gt;
&lt;h2 id=&#34;homelab-能做什么&#34;&gt;HomeLab 能做什么？&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;搭建属于私人的网盘，不必在各个设备上安装云盘 App 才能上传/下载文件&lt;/li&gt;
&lt;li&gt;不受版权控制的家庭多媒体，集成影视订阅，实现观影追剧自由&lt;/li&gt;
&lt;li&gt;集成 HomeBridge 以实现在 iOS/macOS 的 Home.app 中操作非 HomeKit 认证的设备&lt;/li&gt;
&lt;li&gt;BT 下载器，无需开启个人电脑，后台下载资源&lt;/li&gt;
&lt;li&gt;RSS 订阅器，抛弃无意义地刷手机，只获取自己想要的内容&lt;/li&gt;
&lt;li&gt;bilibili/京东每日任务，各种脚本反薅资本家的羊毛&lt;/li&gt;
&lt;li&gt;最重要的是你可以搭建包括但不限于 K8S/ELK/MySQL/Redis/Prometheus 等各种服务，也可以在上面跑 CI/CD 自动化构建发布你的代码&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;阅读门槛&#34;&gt;阅读门槛&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;基本的网络知识，比如光猫和路由器的区别，交换机的作用是什么&lt;/li&gt;
&lt;li&gt;基本的 Linux 操作，可以理解计算机不是一定要连接显示器才可以操作&lt;/li&gt;
&lt;li&gt;遇到问题先使用英文进行 Google，内容过长可以开启页面翻译，请不要看 CSDN 的内容&lt;/li&gt;
&lt;li&gt;不求甚解，当你发现你让它跑起来了的时候，会获得极大的心理满足感&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;设备&#34;&gt;设备&lt;/h1&gt;
&lt;h2 id=&#34;架构说明&#34;&gt;架构说明&lt;/h2&gt;
&lt;p&gt;主要分为服务器和网络设备。考虑到网络设备的稳定性及网络隔离对整套系统的重要程度，没有采用虚拟化 &lt;a href=&#34;https://zhuanlan.zhihu.com/p/374163378&#34;&gt;
&lt;em&gt;&lt;strong&gt;AIO&lt;/strong&gt;&lt;/em&gt;&lt;/a&gt;(ALL IN ONE) 方案。&lt;/p&gt;
&lt;p&gt;作为服务端开发者看来所谓的 AIO 毫无稳定性可言，ESXi 的 OpenWrt 虚拟机出了故障会影响其他业务虚拟机的运行，甚至连 iLO
后台都进不去，需要连接显示器手动配置 ESXi 进行修复，这种情况在异地操作 HomeLab 节点的时候是毁灭性的灾难。&lt;/p&gt;
&lt;p&gt;当然这种方式的好处也有：网络上的 &lt;a href=&#34;https://www.bilibili.com/video/BV1GY41177Es&#34;&gt;教程&lt;/a&gt; 较多，按视频操作一步步做几乎没有难点，小白也能轻松搭建。&lt;/p&gt;
&lt;p&gt;缺点就是对整体的 HomeLab 环境一知半解甚至根本不懂，只会复制粘贴。当然你可以说“我只是想快速搭建一整套服务，不想了解细节”，这样的话本文可能不适合你。&lt;/p&gt;
&lt;h2 id=&#34;服务器&#34;&gt;服务器&lt;/h2&gt;
&lt;p&gt;首先是最重要的服务器部分，绝大多数设备购入时间为 &lt;strong&gt;2021 年 2-3 月&lt;/strong&gt;，价格相比当前可能有很大差距，费用清单如下：&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySQL/innoDB 内部实现</title>
      <link>https://lvlv.fun/posts/2019-10-29/</link>
      <pubDate>Tue, 29 Oct 2019 19:12:30 +0800</pubDate>
      <guid>https://lvlv.fun/posts/2019-10-29/</guid>
      <description>&lt;h2 id=&#34;mysql-存储结构&#34;&gt;MySQL 存储结构&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;B-tree 是平衡的多路查找树。&lt;/li&gt;
&lt;li&gt;涉及到磁盘的查找需要设法减少磁盘 I/O 次数。&lt;/li&gt;
&lt;li&gt;B-tree 就是为解决这个问题而引入的数据结构。&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;区别于二叉树 b-tree 可以拥有很多个子节点（这个度量被称为「内结点出度」)&lt;/li&gt;
&lt;li&gt;我们可以在技术上使 B-tree 的结点大小为磁盘一个页的大小，并且在新建结点时直接申请一个页大小的空间，使得结点的物理存储位置也是在一个页里，这样就能实现存取一个结点只需一次磁盘
I/O&lt;/li&gt;
&lt;li&gt;在最坏情况下，B-tree 的一次检索最多需要 H（树的高度）次的磁盘 I/O&lt;/li&gt;
&lt;li&gt;实际上，为了取得更大的内结点出度，各个数据库一般会采用 B-tree 的变种如 B+-tree，B*-tree 来实现索引，比如 MySQL 的存储引擎
InnoDB 就采用 B+-tree 来实现聚簇索引&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;索引&#34;&gt;索引&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;字符串索引，长度限制 innodb 存储引擎，默认前缀长度最大能支持 767 字节；而在开启 innodb_large_prefix 属性值的情况下，最大能支持
3072 字节&lt;/li&gt;
&lt;li&gt;前缀索引，后缀索引，手动 md5 哈希索引&lt;/li&gt;
&lt;li&gt;innode 内置哈希&lt;/li&gt;
&lt;li&gt;Cardinality 不重复值预估，除以记录总数的比例 尽量接近 1 索引的价值越大&lt;/li&gt;
&lt;li&gt;查询优化器 选择索引时会考虑这个值&lt;/li&gt;
&lt;li&gt;oltp olap&lt;/li&gt;
&lt;li&gt;Online Analytical Processing&lt;/li&gt;
&lt;li&gt;Online transaction processing&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;索引细节&#34;&gt;索引细节&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;单列索引币复合索引在每个数据页存的记录要多，所以查询优化器优先使用单列索引&lt;/li&gt;
&lt;li&gt;覆盖索引&lt;/li&gt;
&lt;li&gt;数据最小读取单位 (索引页？)&lt;/li&gt;
&lt;li&gt;count(*) 操作，实际会读取辅助索引，避免读取聚合索引&lt;/li&gt;
&lt;li&gt;统计操作，覆盖索引的情况下，可以直接查询复合索引 (a,b) 中的 b&lt;/li&gt;
&lt;li&gt;index hint 索引提示 use index 只是提示，force index 才是强制&lt;/li&gt;
&lt;li&gt;multi-range read 优化 从辅助索引筛选完之后，将结果，已主键进行排序，再去读聚合索引下的记录行&lt;/li&gt;
&lt;li&gt;index condition pushdown（IPC）优化，将 where 过滤条件推送到存储引擎，减少数据传输 (使用时会提示 using index condition)&lt;/li&gt;
&lt;li&gt;innodb 全文索引 使用倒排索引实现，使用了 FTS Index Cache 缓存数据变更，批量更新到 Auxiliary Table 中 (
这个表可以通过关键词定位到文档，单词位置)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;锁&#34;&gt;锁&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;myisam 只支持表锁，sql server 2005 版之前只支持页锁，2005 开始支持行锁，但是实现方式与 innodb 不同，加锁会有资源开销，innodb
则与 oracle 的锁实现类似&lt;/p&gt;</description>
    </item>
    <item>
      <title>gRPC Connection reset by peer 问题</title>
      <link>https://lvlv.fun/posts/2019-07-22/</link>
      <pubDate>Mon, 22 Jul 2019 12:40:20 +0800</pubDate>
      <guid>https://lvlv.fun/posts/2019-07-22/</guid>
      <description>&lt;h2 id=&#34;前提&#34;&gt;前提&lt;/h2&gt;
&lt;p&gt;因产品需求，需用 PHP（v7.0.12）调用 k8s 集群中 gRPC（golang@1.12.0）服务。&lt;/p&gt;
&lt;h2 id=&#34;问题&#34;&gt;问题&lt;/h2&gt;
&lt;p&gt;经过 dev 环境测试，当 php-fpm 启动后第一次调用或者距离上次调用时间 20 分钟后左右，再次请求 gRPC 微服务接口，就会返回
Connection reset by peer 错误，说明 gRPC 服务端或者客户端主动关闭连接了。继续发起请求到服务端，又恢复正常。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;gRPC-q1-image1&#34; loading=&#34;lazy&#34; src=&#34;https://i.loli.net/2019/07/22/5d353d7749a3955573.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;思考&#34;&gt;思考&lt;/h2&gt;
&lt;p&gt;经查阅相关资料，发现问题可能出现在 k8s 集群的 kube-proxy 模式上。当前 k8s 环境 (dev) 下的 kube-proxy 为 ipvs
模式，服务端与客户端之间通信如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;gRPC-q1-image2&#34; loading=&#34;lazy&#34; src=&#34;https://i.loli.net/2019/07/22/5d353d77d744e46363.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;把上图 client 看成是 apsopen-inside 服务 pod，Backend pod(1~3) 看成 gRPC 服务，可以看出它们之间的交互路径：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                      ---&amp;gt; gRPC server pod1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gRPC-client ---&amp;gt; ipvs ---&amp;gt; gRPC server pod3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                      ---&amp;gt; gRPC server pod3
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我们知道gRPC是基于HTTP/2协议的，gRPC的client和server在交互时会建立多条连接，为了性能，这些连接都是长连接并且是一直保活的。这段环境中不管是客户端服务还是
gRPC 服务都被调度到各个相同配置信息的 Kubernetes 节点上，这些 k8s 节点的 keep-alive 是一致的，如果出现连接主动关闭的问题，因为从
client 到 server 经历了一层 ipvs，所以最大的可能就是 ipvs 出将连接主动断开，而 client 端还不知情。
搜索 ipvs timeout 关键字找到了下面相关的链接：&lt;/p&gt;</description>
    </item>
    <item>
      <title>gRPC error code</title>
      <link>https://lvlv.fun/posts/2019-06-12/</link>
      <pubDate>Wed, 12 Jun 2019 20:04:20 +0800</pubDate>
      <guid>https://lvlv.fun/posts/2019-06-12/</guid>
      <description>&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;RPC.response.status.code&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;HTTP&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;RPC&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;Description&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;0 - &lt;strong&gt;OK&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;200&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;OK&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Not an error; returned on success.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;1 - &lt;strong&gt;CANCELLED&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;499&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Client Closed Request&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;The operation was cancelled, typically by the caller.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;2 - &lt;strong&gt;UNKNOWN&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;500&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Internal Server Error&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Unknown error.  For example, this error may be returned when a &lt;code&gt;Status&lt;/code&gt; value received from another address space belongs to an error space that is not known in this address space. Also errors raised by APIs that do not return enough error information may be converted to this error.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;3 - &lt;strong&gt;INVALID_ARGUMENT&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;400&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Bad Request&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;The client specified an invalid argument.  Note that this differs from &lt;code&gt;FAILED_PRECONDITION&lt;/code&gt;.  &lt;code&gt;INVALID_ARGUMENT&lt;/code&gt; indicates arguments that are problematic regardless of the state of the system (e.g., a malformed file name).&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;4 - &lt;strong&gt;DEADLINE_EXCEEDED&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;504&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Gateway Timeout&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;The deadline expired before the operation could complete. For operations that change the state of the system, this error may be returned even if the operation has completed successfully.  For example, a successful response from a server could have been delayed long enough for the deadline to expire.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;5 - &lt;strong&gt;NOT_FOUND&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;404&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Not Found&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Some requested entity (e.g., file or directory) was not found.Note to server developers: if a request is denied for an entire class of users, such as gradual feature rollout or undocumented whitelist,&lt;code&gt;NOT_FOUND&lt;/code&gt; may be used. If a request is denied for some users within a class of users, such as user-based access control, &lt;code&gt;PERMISSION_DENIED&lt;/code&gt; must be used.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;6 - &lt;strong&gt;ALREADY_EXISTS&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;409&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Conflict&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;The entity that a client attempted to create (e.g., file or directory) already exists.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;7 - &lt;strong&gt;PERMISSION_DENIED&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;403&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Forbidden&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;The caller does not have permission to execute the specified operation. &lt;code&gt;PERMISSION_DENIED&lt;/code&gt; must not be used for rejections caused by exhausting some resource (use &lt;code&gt;RESOURCE_EXHAUSTED&lt;/code&gt; instead for those errors). &lt;code&gt;PERMISSION_DENIED&lt;/code&gt; must not be used if the caller can not be identified (use &lt;code&gt;UNAUTHENTICATED&lt;/code&gt; instead for those errors). This error code does not imply the request is valid or the requested entity exists or satisfies other pre-conditions.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;8 - &lt;strong&gt;RESOURCE_EXHAUSTED&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;429&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Too Many Requests&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Some resource has been exhausted, perhaps a per-user quota, or perhaps the entire file system is out of space.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;9 - &lt;strong&gt;FAILED_PRECONDITION&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;400&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Bad Request&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;The operation was rejected because the system is not in a state required for the operation&amp;rsquo;s execution.  For example, the directory to be deleted is non-empty, an rmdir operation is applied to a non-directory, etc.&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;Service implementors can use the following guidelines to decide between &lt;code&gt;FAILED_PRECONDITION&lt;/code&gt;, &lt;code&gt;ABORTED&lt;/code&gt;, and &lt;code&gt;UNAVAILABLE&lt;/code&gt;:&lt;!-- raw HTML omitted --&gt; (a) Use &lt;code&gt;UNAVAILABLE&lt;/code&gt; if the client can retry just the failing call.&lt;!-- raw HTML omitted --&gt; (b) Use &lt;code&gt;ABORTED&lt;/code&gt; if the client should retry at a higher level (e.g., when a client-specified test-and-set fails, indicating the client should restart a read-modify-write sequence).&lt;!-- raw HTML omitted --&gt; (c) Use &lt;code&gt;FAILED_PRECONDITION&lt;/code&gt; if the client should not retry until the system state has been explicitly fixed.  E.g., if an &amp;ldquo;rmdir&amp;rdquo; fails because the directory is non-empty, &lt;code&gt;FAILED_PRECONDITION&lt;/code&gt; should be returned since the client should not retry unless the files are deleted from the directory.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;10 - &lt;strong&gt;ABORTED&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;409&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Conflict&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;The operation was aborted, typically due to a concurrency issue such as a sequencer check failure or transaction abort.&lt;!-- raw HTML omitted --&gt;See the guidelines above for deciding between &lt;code&gt;FAILED_PRECONDITION&lt;/code&gt;,&lt;code&gt;ABORTED&lt;/code&gt;, and &lt;code&gt;UNAVAILABLE&lt;/code&gt;.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;11 - &lt;strong&gt;OUT_OF_RANGE&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;400&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Bad Request&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;The operation was attempted past the valid range.  E.g., seeking or reading past end-of-file.&lt;!-- raw HTML omitted --&gt;Unlike &lt;code&gt;INVALID_ARGUMENT&lt;/code&gt;, this error indicates a problem that may be fixed if the system state changes. For example, a 32-bit file system will generate &lt;code&gt;INVALID_ARGUMENT&lt;/code&gt; if asked to read at an offset that is not in the range [0,2^32-1], but it will generate &lt;code&gt;OUT_OF_RANGE&lt;/code&gt; if asked to read from an offset past the current file size.&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;There is a fair bit of overlap between &lt;code&gt;FAILED_PRECONDITION&lt;/code&gt; and &lt;code&gt;OUT_OF_RANGE&lt;/code&gt;.  We recommend using &lt;code&gt;OUT_OF_RANGE&lt;/code&gt; (the more specific error) when it applies so that callers who are iterating through a space can easily look for an &lt;code&gt;OUT_OF_RANGE&lt;/code&gt; error to detect when they are done.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;12 - &lt;strong&gt;UNIMPLEMENTED&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;501&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Not Implemented&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;The operation is not implemented or is not supported/enabled in this service.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;13 - &lt;strong&gt;INTERNAL&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;500&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Internal Server Error&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Internal errors.  This means that some invariants expected by the underlying system have been broken.  This error code is reserved for serious errors.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;14 - &lt;strong&gt;UNAVAILABLE&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;503&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Service Unavailable&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;The service is currently unavailable.  This is most likely a transient condition, which can be corrected by retrying with a backoff.&lt;!-- raw HTML omitted --&gt;See the guidelines above for deciding between &lt;code&gt;FAILED_PRECONDITION&lt;/code&gt;,&lt;code&gt;ABORTED&lt;/code&gt;, and &lt;code&gt;UNAVAILABLE&lt;/code&gt;.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;15 - &lt;strong&gt;DATA_LOSS&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;500&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Internal Server Error&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Unrecoverable data loss or corruption.&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;16 - &lt;strong&gt;UNAUTHENTICATED&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;401&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;Unauthorized&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;The request does not have valid authentication credentials for the peration.&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</description>
    </item>
    <item>
      <title>Protobuf 总结</title>
      <link>https://lvlv.fun/posts/2019-03-14/</link>
      <pubDate>Thu, 14 Mar 2019 11:18:20 +0800</pubDate>
      <guid>https://lvlv.fun/posts/2019-03-14/</guid>
      <description>&lt;h3 id=&#34;protobuf-是什么&#34;&gt;Protobuf 是什么&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Protobuf 是一种平台无关、语言无关、可扩展且轻便高效的序列化数据结构的协议，可以用于&lt;strong&gt;通信协议&lt;/strong&gt;和&lt;strong&gt;数据存储等&lt;/strong&gt;。
&lt;ul&gt;
&lt;li&gt;传输协议 - 如 json、XML&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://baike.baidu.com/item/IDL/34727?fr=aladdin&#34;&gt;IDL&lt;/a&gt; - 接口描述语言&lt;/li&gt;
&lt;li&gt;存储格式 - 序列化压缩后存储到数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;核心竞争力
&lt;ul&gt;
&lt;li&gt;向前向后兼容性 - 新老版本兼容，无需考虑版本升级&lt;/li&gt;
&lt;li&gt;多语言代码生成 - 支持 Java、Python、PHP、Go 等编程语言&lt;/li&gt;
&lt;li&gt;快&amp;amp;小 - 序列化、反序列化速度快，压缩比优秀&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;关键技术&#34;&gt;关键技术&lt;/h3&gt;
&lt;h4 id=&#34;varints-编码&#34;&gt;varints 编码&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;每个字节使用其中 7 位保存数字，最高位表示后面是否还有内容&lt;/li&gt;
&lt;li&gt;低位在前，高位在后&lt;/li&gt;
&lt;li&gt;保留了&lt;code&gt;fixed32&lt;/code&gt;和&lt;code&gt;fixed64&lt;/code&gt;，用于传递大的正数&lt;/li&gt;
&lt;li&gt;&lt;code&gt;int32&lt;/code&gt;、&lt;code&gt;int64&lt;/code&gt;、&lt;code&gt;unit32&lt;/code&gt;、&lt;code&gt;uint64&lt;/code&gt;、&lt;code&gt;bool&lt;/code&gt;，序列化结果相互兼容，可以修改&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://i.loli.net/2019/03/14/5c8a53e35a37b.png&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;zigzag-编码&#34;&gt;zigzag 编码&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;传统上，负数最高位为 1，小负数会浪费编码长度&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(n&amp;lt;&amp;lt;1)^(n&amp;gt;&amp;gt;31)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;-1 将会被编码成 1，1 将会编码成 2，-2 将会被编码成 3&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sint32&lt;/code&gt;和&lt;code&gt;sint64&lt;/code&gt;使用 zigzag 编码&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;message-structure-编码&#34;&gt;message structure 编码&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Tag-Value 编码&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Tag=(field_number&amp;lt;&amp;lt;3)|wire_type-&amp;gt;varints&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;wire_type:0 表示 varints，1 表示固定 64 位，5 表示固定 32 位&lt;/li&gt;
&lt;li&gt;wire_type:2 表示 Tag-Length-Value 编码（TLV），Length 使用 varints&lt;/li&gt;
&lt;li&gt;string、bytes、message 嵌套，都采用 TLV 编码&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;wire_type 只有 0、1、2、5，那么 3 和 4 去哪了？—被废除了&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Learning go from zero to hero - Part 2</title>
      <link>https://lvlv.fun/posts/2018-12-28/</link>
      <pubDate>Fri, 28 Dec 2018 13:34:06 +0800</pubDate>
      <guid>https://lvlv.fun/posts/2018-12-28/</guid>
      <description>&lt;hr&gt;
&lt;p&gt;作者：&lt;a href=&#34;https://medium.freecodecamp.org/@milapneupane&#34;&gt;Milap Neupane&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;链接：&lt;a href=&#34;https://medium.freecodecamp.org/learning-go-from-zero-to-hero-d2a3223b3d86&#34;&gt;https://medium.freecodecamp.org/learning-go-from-zero-to-hero-d2a3223b3d86&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;函数&#34;&gt;函数&lt;/h3&gt;
&lt;p&gt;  &lt;code&gt;main.go&lt;/code&gt;包中定义的&lt;code&gt;func main()&lt;/code&gt;是执行程序的入口。可以定义和使用更多函数。让我们看一个简单的例子：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// 3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;  正如我们在上面的例子中所看到的，使用**&lt;code&gt;func&lt;/code&gt;&lt;strong&gt;关键字后跟函数名来定义 Go 函数。函数所需的&lt;/strong&gt;参数**需要根据其数据类型定义，最后是返回的数据类型。&lt;/p&gt;
&lt;p&gt;  函数的返回也可以在函数中预定义：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// 3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;  这里 c 被定义为返回变量。因此，定义的变量 c 将自动返回，而无需在结尾的 return 语句中定义。&lt;/p&gt;
&lt;p&gt;  还可以从单个函数返回多个返回值，将返回值与逗号分隔开。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;successfully added&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;message&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;结构方法和接口&#34;&gt;结构、方法和接口&lt;/h3&gt;
&lt;p&gt;  Go 不是一个完全面向对象的语言，但是它的结构，接口和方法，和面向对象有异曲同工之妙。&lt;/p&gt;
&lt;h4 id=&#34;结构&#34;&gt;结构&lt;/h4&gt;
&lt;p&gt;  结构&lt;code&gt;struct&lt;/code&gt;是不同类型字段的集合。结构用于将数据分组在一起。例如，如果我们想要对&lt;code&gt;Person&lt;/code&gt;类型的数据进行分组，我们会定义一个人的属性，其中可能包括姓名，年龄，性别。可以使用以下语法定义结构：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;person&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;age&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;gender&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;  在定义了人类型结构的情况下，现在让我们创建一个&lt;code&gt;person&lt;/code&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//方式 1：指定属性和值&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;p&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;person&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Bob&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;gender&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Male&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//方式 2：仅指定值&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;person&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Bob&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Male&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;  我们可以用点&lt;code&gt;.&lt;/code&gt;轻松访问这些数据&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Bob&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;age&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// 42&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;gender&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Male&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;  还可以使用其指针直接访问结构的属性：&lt;/p&gt;</description>
    </item>
    <item>
      <title>Learning go from zero to hero - Part 1</title>
      <link>https://lvlv.fun/posts/2018-12-22/</link>
      <pubDate>Sat, 22 Dec 2018 18:47:53 +0800</pubDate>
      <guid>https://lvlv.fun/posts/2018-12-22/</guid>
      <description>&lt;hr&gt;
&lt;p&gt;作者：&lt;a href=&#34;https://medium.freecodecamp.org/@milapneupane&#34;&gt;Milap Neupane&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;链接：&lt;a href=&#34;https://medium.freecodecamp.org/learning-go-from-zero-to-hero-d2a3223b3d86&#34;&gt;https://medium.freecodecamp.org/learning-go-from-zero-to-hero-d2a3223b3d86&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;开始&#34;&gt;开始&lt;/h3&gt;
&lt;p&gt;  想到刚开始学习 Go 的时候，也是不清不楚地本着拿来能用就行的心态，没有系统学习，导致学习过程中踩坑无数。今天发现一篇文章写的很好，Go 语言的特征讲得很细，翻译给需要的初学 Go 的同学。&lt;/p&gt;
&lt;h3 id=&#34;前言&#34;&gt;前言&lt;/h3&gt;
&lt;p&gt;  让我们从 Go（或者称为 Golang）的一个小介绍开始。Go 由 Google 工程师 Robert Griesemer，Rob Pike 和 Ken Thompson 设计。它是一种静态类型的编译语言。第一个版本于 2012 年 3 月作为开源发布。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  &lt;em&gt;&lt;strong&gt;“Go 是一种开源编程语言，可以轻松构建简单，可靠，高效的软件”&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;  在许多语言中，有许多方法可以解决给定的问题。程序员可以花很多时间思考解决问题的最佳方法。&lt;/p&gt;
&lt;p&gt;  另一方面，Go 相信更少的功能 — 只有一种正确的方法来解决问题。&lt;/p&gt;
&lt;p&gt;  这节省了开发人员的时间，并使大型代码库易于维护。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt; &lt;em&gt;&lt;strong&gt;“功能越多，成本越高” — Rob Pike&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://i.loli.net/2019/03/15/5c8b6fe00d3e7.png&#34;&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;h3 id=&#34;入门&#34;&gt;入门&lt;/h3&gt;
&lt;p&gt;  Go 由&lt;code&gt;package&lt;/code&gt;组成。名为&lt;code&gt;main&lt;/code&gt;的包告诉 Go 编译器被编译为可执行文件，而不是作为 library 被引用。它是应用程序的主入口。主包定义为：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;  让我们在 Go 工作区中创建一个简单的 hello world 示例。&lt;/p&gt;
&lt;h4 id=&#34;工作区&#34;&gt;&lt;strong&gt;工作区&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;  Go 中的工作空间由环境变量定义，称为 &lt;code&gt;GOPATH&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;  你的任何代码都将写在工作区内。Go 将搜索&lt;code&gt;GOPATH&lt;/code&gt;目录中的任何包，或者&lt;code&gt;GOROOT&lt;/code&gt;在安装 Go 时默认设置的目录。注：&lt;code&gt;GOROOT&lt;/code&gt; 是安装 go 的路径。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
