<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Live | Lv's Playground</title><meta name=keywords content><meta name=description content="live"><meta name=author content="L"><link rel=canonical href=https://lvlv.fun/live/><link crossorigin=anonymous href=/assets/css/stylesheet.be963298fd26a836efadfa5b9afcfde80b86152b10b4c838ea2228b24637d650.css rel="preload stylesheet" as=style><link rel=icon href=https://lvlv.fun/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://lvlv.fun/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://lvlv.fun/favicon-32x32.png><link rel=apple-touch-icon href=https://lvlv.fun/apple-touch-icon.png><link rel=mask-icon href=https://lvlv.fun/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async defer data-website-id=6116d184-50f8-45da-bd6b-b30005978678 data-domains=lvlv.fun src=https://umami.lvlv.fun:10000/umami.js></script><meta property="og:title" content="Live"><meta property="og:description" content="live"><meta property="og:type" content="article"><meta property="og:url" content="https://lvlv.fun/live/"><meta property="og:image" content="https://lvlv.fun/apple-touch-icon.png"><meta property="article:section" content><meta property="og:site_name" content="Lv's Playground"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lvlv.fun/apple-touch-icon.png"><meta name=twitter:title content="Live"><meta name=twitter:description content="live"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Live","item":"https://lvlv.fun/live/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Live","name":"Live","description":"live","keywords":[],"articleBody":"","wordCount":"0","inLanguage":"zh-cn","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"L"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lvlv.fun/live/"},"publisher":{"@type":"Organization","name":"Lv's Playground","logo":{"@type":"ImageObject","url":"https://lvlv.fun/favicon.ico"}}}</script></head><body class=dark id=top><header class=header><nav class=nav><div class=logo><a href=https://lvlv.fun accesskey=h title="Started (Alt + H)"><img src=https://lvlv.fun/apple-touch-icon.png alt aria-label=logo height=35>Started</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://lvlv.fun/navigation/ title=Navigation><span>Navigation</span></a></li><li><a href=https://lvlv.fun/live/ title=Live><span class=active>Live</span></a></li><li><a href=https://lvlv.fun/archives/ title=Archives><span>Archives</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Live</h1><script src=https://cdn.bootcdn.net/ajax/libs/flv.js/1.6.2/flv.min.js></script>
<script src=https://cdn.bootcdn.net/ajax/libs/hls.js/1.2.4/hls.min.js></script></header><div class=live-container><video poster=/eva-nerv.jpg id=live-video-element controls autoplay muted></video>
<img id=live-background-img src=/eva-nerv.jpg alt></div><div id=comments-container><div id=comments-editor><div class=comments-editor-header><label for=comments-editor-nickname></label>
<input type=text id=comments-editor-nickname class=comments-editor-text placeholder=" 昵称 " maxlength=10 required>
<label for=comments-editor-email></label>
<input type=text id=comments-editor-email class=comments-editor-text placeholder=" 邮箱 " maxlength=20 required>
<button id=comments-editor-submit-button class=comments-editor-submit-button>提交</button></div><div class=comments-editor-body><label for=comments-editor-content></label>
<input type=text id=comments-editor-content class=comments-editor-text placeholder=" 留言... " maxlength=200 required></div></div><div id=comments-board></div><button id=comments-board-load-button>加载更多</button></div><script>let baseUrl='https://api.lvlv.fun:10000/outer/comment/v1',currentURL=window.location.href.split('?')[0],nickname=document.getElementById('comments-editor-nickname'),email=document.getElementById('comments-editor-email'),content=document.getElementById('comments-editor-content'),submitButton=document.getElementById('comments-editor-submit-button'),commentBoard=document.getElementById('comments-board'),loadButton=document.getElementById('comments-board-load-button'),currentPage=1,currentLimit=10;submitButton.addEventListener('click',function(){sendComment()}),loadButton.addEventListener('click',function(){currentPage+=1,getCommentRequest(currentPage,currentLimit)});function sendComment(){let s=null,e=null,t=content.value,n=t.split(' ');if(n.length>1&&!!n[0].match(/^@\d+$/g)){let o=n[0],i=t.slice(o.length+1,t.length);s=o.split('@')[1],e=i}else e=content.value;if(nickname.value===''||nickname.value.length<3||nickname.value.length>10){alert('请检查昵称');return}if(email.value===''){alert('请检查邮箱');return}if(content.value===''||content.value.length<3||content.value.length>200){alert('请检查留言');return}sendCommentRequest(nickname.value,email.value,e,s)}function sendCommentRequest(n,s,o,t){let e=baseUrl+'/add'+'?nickname='+n+'&email='+s+'&content='+o;t&&(e=e+'&parentId='+t),fetch(e,{headers:{'Origin-Url':currentURL}}).then(e=>{if(e.ok)return e.json();throw new Error('请求失败')}).then(e=>{e.code!==void 0?alert(e.message):(formatOnceComment(e.comment),content.value='')}).catch(e=>{console.log(e),alert('参数错误，请检查提交内容')})}function getCommentRequest(e,t){fetch(baseUrl+'/list'+'?page='+e+'&limit='+t,{headers:{'Origin-Url':currentURL}}).then(e=>e.json()).then(e=>{e.code!==void 0?alert(e.message):e.comments&&(formatComment(e.comments),document.getElementsByClassName('comments-board-item').length<parseInt(e.total)&&(loadButton.style.display='block'))}).catch(e=>{console.log('Error:'+e)})}function buildBoardItem(e){let a=document.createElement('div'),l=document.createElement('img'),o=document.createElement('div'),n=document.createElement('div'),r=document.createElement('div'),u=document.createElement('span'),f=document.createElement('span'),c=document.createElement('span'),s=document.createElement('span'),d=document.createElement('span'),i=document.createElement('a'),h=document.createElement('div'),m=document.createElement('p'),t=document.createElement('div');a.classList.add('comments-board-item'),l.classList.add('comments-board-item-avatar'),o.classList.add('comments-board-item-title'),n.classList.add('comments-board-item-user'),r.classList.add('comments-board-item-info'),u.classList.add('comments-board-item-id'),f.classList.add('comments-board-item-nickname'),c.classList.add('comments-board-item-role'),s.classList.add('comments-board-item-ua'),d.classList.add('comments-board-item-date'),i.classList.add('comments-board-item-reply'),h.classList.add('comments-board-item-meta'),m.classList.add('comments-board-item-content');for(let o=0;o<e.children.length;o++){if(o===0){let e=document.createElement('hr');e.classList.add('comments-board-item-children-line'),t.appendChild(e)}let n=e.children[o],f=n.id,m=n.nickname,u=n.role,d=n.userAgent,h=n.content,p=formatDate(n.createdAt),c=document.createElement('span'),r=document.createElement('span'),i=document.createElement('span'),s=document.createElement('span'),a=document.createElement('span'),l=document.createElement('p');c.classList.add('comments-board-item-id'),r.classList.add('comments-board-item-nickname'),i.classList.add('comments-board-item-role'),s.classList.add('comments-board-item-ua'),a.classList.add('comments-board-item-date'),l.classList.add('comments-board-item-content'),c.innerText='#'+f,r.innerText=m,i.innerText=u,s.innerText=d,a.innerText=p,l.innerText=h,t.appendChild(c),t.appendChild(r),t.appendChild(i),t.appendChild(s),t.appendChild(a),t.appendChild(l),u!=='admin'&&(s.innerText=formatUserAgent(d),t.removeChild(i)),s.innerText="via "+s.innerText}return l.src="https://source.boringavatars.com/beam/40/test"+e.nickname,u.innerText='#'+e.id,f.innerText=e.nickname,c.innerText=e.role,s.innerText=e.userAgent,d.innerText=formatDate(e.createdAt),i.innerText='reply',i.href='javascript:void(0)',i.onclick=function(){e.id&&(content.value='@'+e.id+' ',content.focus())},m.innerText=e.content,n.appendChild(u),n.appendChild(f),n.appendChild(c),n.appendChild(i),r.appendChild(s),r.appendChild(d),o.appendChild(l),o.appendChild(n),o.appendChild(r),h.appendChild(m),e.role!=='admin'&&(s.innerText=formatUserAgent(e.userAgent),n.removeChild(c)),s.innerText="via "+s.innerText,a.appendChild(o),a.appendChild(h),a.appendChild(t),a}function formatUserAgent(t){let e='unknown';return t.match(/Macintosh/gi)?e='Macintosh':t.match(/iPod/gi)?e='iPod':t.match(/iPad/gi)?e='iPad':t.match(/iPhone/gi)?e='iPhone':t.match(/Android/gi)?e='Android':t.match(/Windows/gi)?e='Windows':!t.match(/Linux/gi)||(e='Linux'),e}function formatOnceComment(e){if(e.parentId!==0)commentBoard.innerHTML='',getCommentRequest(currentPage,currentLimit);else{let n=buildBoardItem(e);commentBoard.insertBefore(n,document.getElementsByClassName('comments-board-item')[0]);let t=document.getElementsByClassName('comments-board-item')[currentLimit];t!==void 0&&commentBoard.removeChild(t)}}function formatComment(e){if(!e||e.length<=0)return;for(let t=0;t<e.length;t++){let n=buildBoardItem(e[t]);commentBoard.appendChild(n)}}function formatDate(n){let s=new Date(n).getTime(),t=Math.floor((new Date-s)/1e3),e=t/86400;return e>1?Math.floor(e)+'天前':(e=t/3600,e>1?Math.floor(e)+'小时前':(e=t/60,e>1?Math.floor(e)+'分钟前':e<0?'前阵子':Math.floor(t)+'秒前'))}getCommentRequest(currentPage,currentLimit)</script><script>const isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);let videoElement=document.getElementById('live-video-element'),backgroundImg=document.getElementById('live-background-img'),liveUrl='https://live.lvlv.fun:10000/live/livestream',playerType=null,flvPlayer=null,hlsPlayer=null;const initHlsPlayer=function(){if(!Hls.isSupported()){videoElement.canPlayType('application/vnd.apple.mpegurl')&&(videoElement.src=liveUrl,videoElement.addEventListener('loadedmetadata',function(){videoElement.play()}));return}hlsPlayer&&(hlsPlayer.destroy(),hlsPlayer=null),hlsPlayer=new Hls,hlsPlayer.loadSource(liveUrl),hlsPlayer.attachMedia(videoElement)},initFlvPlayer=function(){if(!flvjs.isSupported())return;flvPlayer&&(flvPlayer.pause(),flvPlayer.unload(),flvPlayer.detachMediaElement(),flvPlayer.destroy(),flvPlayer=null),flvPlayer=flvjs.createPlayer({type:'flv',url:liveUrl,isLive:!0,hasAudio:!0,hasVideo:!0,enableWorker:!0,enableStashBuffer:!1})},fetchLiveStream=function(){isMobile?(liveUrl=liveUrl+'.m3u8',playerType='hls',console.log('Use hls player')):(liveUrl=liveUrl+'.flv',playerType='flv',console.log('Use flv player'));let e=new AbortController;const t=e.signal;fetchTimeout(fetch(liveUrl,{signal:t}),500,e).then(e=>{playerType==='flv'&&startFlvPlayer(),playerType==='hls'&&startHlsPlayer(),backgroundImg.style.display='none',videoElement.style.display='block'}).catch(e=>{console.error('Error:',e)})};function fetchTimeout(n,e=5e3,s){let t=null,o=new Promise((n,e)=>{t=()=>e({code:504,message:'timeout'})}),i=Promise.race([n,o]);return setTimeout(()=>{t(),s.abort()},e),i.then(t=>(clearTimeout(e),t))}const startHlsPlayer=function(){initHlsPlayer()},startFlvPlayer=function(){initFlvPlayer(),flvPlayer.attachMediaElement(videoElement),flvPlayer.load(),flvPlayer.play()};fetchLiveStream()</script></main><footer class=footer><span>&copy; 2022 <a href=https://lvlv.fun>Lv's Playground</a></span>
<span>|</span>
<span><a href=https://beian.miit.gov.cn/>皖ICP备2022006072号-1</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll('pre > code').forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement('button');e.classList.add('copy-code'),e.innerHTML='copy';function s(){e.innerHTML='copied!',setTimeout(()=>{e.innerHTML='copy'},2e3)}e.addEventListener('click',o=>{if('clipboard'in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand('copy'),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>